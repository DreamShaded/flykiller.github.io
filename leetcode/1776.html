<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 1776 Car Fleet II | Dmitry Babichev’s webpage</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 1776 Car Fleet II" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Problem statement" />
<meta property="og:description" content="Problem statement" />
<meta property="og:site_name" content="Dmitry Babichev’s webpage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-13T18:31:34+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 1776 Car Fleet II" />
<script type="application/ld+json">
{"url":"/leetcode/1776.html","@type":"BlogPosting","headline":"Leetcode 1776 Car Fleet II","dateModified":"2021-09-13T18:31:34+02:00","datePublished":"2021-09-13T18:31:34+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/1776.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"Problem statement","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev's webpage" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev&#39;s webpage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode problems</a><a class="page-link" href="/coding%20ideas/">Patterns</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/stack"><code class="highligher-rouge"><nobr>stack</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/monotonic deque"><code class="highligher-rouge"><nobr>monotonic deque</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/geometry"><code class="highligher-rouge"><nobr>geometry</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/math"><code class="highligher-rouge"><nobr>math</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/heap"><code class="highligher-rouge"><nobr>heap</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 1776 Car Fleet II</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-09-13T18:31:34+02:00" itemprop="datePublished">
        Sep 13, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h4 id="problem-statement">Problem statement</h4>

<p><a href="https://leetcode.com/problems/car-fleet-ii/"> <font color="blue">https://leetcode.com/problems/car-fleet-ii/</font></a></p>

<h4 id="solution">Solution</h4>
<p>The idea is to use monotonic stack idea: we will always keep in our stack some cars such that we have increasing speeds, it will be our fleets, which will never gain each another. We will keep tuples of <code class="language-plaintext highlighter-rouge">3</code> numbers: <code class="language-plaintext highlighter-rouge">(position, speed, collision time)</code>. Let us traverse cars from the end and check the following conditions: consider car <strong>X</strong> with positoin and speed <code class="language-plaintext highlighter-rouge">(p, s)</code>.</p>

<ol>
  <li>If speed <code class="language-plaintext highlighter-rouge">s &lt;= stack[-1][1]</code>, then it means that the speed of current car is less or equal than the last car in our stack (which is closest to <strong>X</strong> in our stack) and it means that it will never gain it. We can remove last car from stack from consideration, because all previous cars to <strong>X</strong> can not gain it.</li>
  <li>Also let us consider function <code class="language-plaintext highlighter-rouge">gain</code> is time when one car will catch another. If it happens that possible gain time of car <strong>X</strong> and the last car in stack is more than collision time of last car in stack, again no need to consider this car and we remove it from stack: this collition will never happen: imagine <code class="language-plaintext highlighter-rouge">stack = [(5, 1, inf), (3, 3, 1)]</code> and new element is <code class="language-plaintext highlighter-rouge">(1, 4)</code>. Then we have graph like this:</li>
</ol>

<p><img src="data:image/png;base64,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" alt="image.png" /></p>

<p>So, last element from stack can be removed: it can be seen that even though red car can reach green, but it does not matter for blue car: it will just ignore it.</p>

<p>Finally, if stack is empty, we append <code class="language-plaintext highlighter-rouge">(p, s, inf)</code> in our stack, that is collision time for this car is infinite: it will never collide with anyone. If stack is not empty, we will add <code class="language-plaintext highlighter-rouge">(p, s, time)</code> to our stack, where <code class="language-plaintext highlighter-rouge">time</code> is gain time of last car in stack and car <strong>X</strong>.</p>

<h4 id="complexity">Complexity</h4>
<p>It is <code class="language-plaintext highlighter-rouge">O(n)</code> for time and space</p>

<h4 id="code">Code</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">getCollisionTimes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cars</span><span class="p">):</span>
        <span class="n">result</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">gain</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">cars</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">while</span> <span class="n">stack</span> <span class="ow">and</span> <span class="p">(</span><span class="n">s</span> <span class="o">&lt;=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">gain</span><span class="p">((</span><span class="n">p</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]):</span>
                <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
                
            <span class="n">time</span> <span class="o">=</span> <span class="n">gain</span><span class="p">((</span><span class="n">p</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="k">if</span> <span class="n">stack</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span>

            <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">p</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">time</span><span class="p">))</span>
            <span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">inf</span> <span class="k">else</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</code></pre></div></div>

<h4 id="remark">Remark</h4>
<p>Note, that in fact what we need to look in convex hull of car trajectories.</p>


  </div><a class="u-url" href="/leetcode/1776.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>