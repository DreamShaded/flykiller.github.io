<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 0137. Single Number II | Dmitry Babichev algorithms</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 0137. Single Number II" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="There are several &#39;magical&#39; solutions for this problem I saw in comments, done in O(n), which I really enjoed to read, however I doubt if you never saw this problem you can suceed in real interview. That is why I suggest maybe not the fastest, but much more easier to come up solution. The idea is similar to problem Single Number, but here we need to count each bit modulo 3. So, we Iterate over all possible 32 bits and for each num check if this num has non-zero bit on position i with num &amp; (1&lt;&lt;i) == (1&lt;&lt;i) formula. We evaluate this sum modulo 3. Note, that in the end for each bit we can have either 0 or 1 and never 2. Next, update our answer single with evaluated bit. Finally, we need to deal with overflow cases in python: maximum value for int32 is 2^31 - 1, so if we get number more than this value we have negative answer in fact." />
<meta property="og:description" content="There are several &#39;magical&#39; solutions for this problem I saw in comments, done in O(n), which I really enjoed to read, however I doubt if you never saw this problem you can suceed in real interview. That is why I suggest maybe not the fastest, but much more easier to come up solution. The idea is similar to problem Single Number, but here we need to count each bit modulo 3. So, we Iterate over all possible 32 bits and for each num check if this num has non-zero bit on position i with num &amp; (1&lt;&lt;i) == (1&lt;&lt;i) formula. We evaluate this sum modulo 3. Note, that in the end for each bit we can have either 0 or 1 and never 2. Next, update our answer single with evaluated bit. Finally, we need to deal with overflow cases in python: maximum value for int32 is 2^31 - 1, so if we get number more than this value we have negative answer in fact." />
<meta property="og:site_name" content="Dmitry Babichev algorithms" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-01T13:22:12+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 0137. Single Number II" />
<script type="application/ld+json">
{"url":"/leetcode/0137.html","@type":"BlogPosting","headline":"Leetcode 0137. Single Number II","dateModified":"2021-04-01T13:22:12+02:00","datePublished":"2021-04-01T13:22:12+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/0137.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"There are several &#39;magical&#39; solutions for this problem I saw in comments, done in O(n), which I really enjoed to read, however I doubt if you never saw this problem you can suceed in real interview. That is why I suggest maybe not the fastest, but much more easier to come up solution. The idea is similar to problem Single Number, but here we need to count each bit modulo 3. So, we Iterate over all possible 32 bits and for each num check if this num has non-zero bit on position i with num &amp; (1&lt;&lt;i) == (1&lt;&lt;i) formula. We evaluate this sum modulo 3. Note, that in the end for each bit we can have either 0 or 1 and never 2. Next, update our answer single with evaluated bit. Finally, we need to deal with overflow cases in python: maximum value for int32 is 2^31 - 1, so if we get number more than this value we have negative answer in fact.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev algorithms" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev algorithms</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/content/">Content</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 0137. Single Number II</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-04-01T13:22:12+02:00" itemprop="datePublished">
        Apr 1, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>There are several <code class="language-plaintext highlighter-rouge">'magical'</code> solutions for this problem I saw in comments, done in <code class="language-plaintext highlighter-rouge">O(n)</code>, which I really enjoed to read, however I doubt if you never saw this problem you can suceed in real interview. That is why I suggest maybe not the fastest, but much more easier to come up solution. The idea is similar to problem <strong>Single Number</strong>, but here we need to count each bit modulo <code class="language-plaintext highlighter-rouge">3</code>. So, we</p>
<ol>
  <li>Iterate over all possible <code class="language-plaintext highlighter-rouge">32</code> bits and for each <code class="language-plaintext highlighter-rouge">num</code> check if this <code class="language-plaintext highlighter-rouge">num</code> has non-zero bit on position <code class="language-plaintext highlighter-rouge">i</code> with <code class="language-plaintext highlighter-rouge">num &amp; (1&lt;&lt;i) == (1&lt;&lt;i)</code> formula.</li>
  <li>We evaluate this sum modulo <code class="language-plaintext highlighter-rouge">3</code>. Note, that in the end for each bit we can have either <code class="language-plaintext highlighter-rouge">0</code> or <code class="language-plaintext highlighter-rouge">1</code> and never <code class="language-plaintext highlighter-rouge">2</code>.</li>
  <li>Next, update our answer <code class="language-plaintext highlighter-rouge">single</code> with evaluated bit.</li>
  <li>Finally, we need to deal with overflow cases in python: maximum value for <code class="language-plaintext highlighter-rouge">int32</code> is <code class="language-plaintext highlighter-rouge">2^31 - 1</code>, so if we get number more than this value we have negative answer in fact.</li>
</ol>

<p><strong>Complexity</strong>: time complexity is <code class="language-plaintext highlighter-rouge">O(32n)</code>, which may be not fully honest linear, but is fine for the purpose of this problem. If we want just <code class="language-plaintext highlighter-rouge">O(n)</code> complexity, I think problem becomes not medium but hard. Space complexity here is <code class="language-plaintext highlighter-rouge">O(1)</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">singleNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">):</span>
        <span class="n">single</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">):</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">num</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">):</span> <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">single</span> <span class="o">|=</span> <span class="p">(</span><span class="n">count</span><span class="o">%</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">i</span>
            
        <span class="k">return</span> <span class="n">single</span> <span class="k">if</span> <span class="n">single</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">else</span> <span class="n">single</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">)</span>   
</code></pre></div></div>

  </div><a class="u-url" href="/leetcode/0137.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>